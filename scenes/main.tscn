[gd_scene load_steps=33 format=4 uid="uid://cbm6loui5fyxc"]

[ext_resource type="Script" uid="uid://bic7qvwwcbmh0" path="res://scripts/Main.cs" id="1_sugp2"]
[ext_resource type="Texture2D" uid="uid://r3hhumcc2kyq" path="res://sprites/tileset_floor.png" id="2_sugp2"]
[ext_resource type="FontFile" uid="uid://dxw3j8g1wsmjk" path="res://font/FiveFontsatFreddy's-Regular.ttf" id="3_choun"]
[ext_resource type="Texture2D" uid="uid://komy2bx1f20h" path="res://sprites/freddy_head.png" id="3_jyhfs"]
[ext_resource type="Texture2D" uid="uid://cxnwm05ns5c7e" path="res://sprites/stage.png" id="4_jyhfs"]
[ext_resource type="Texture2D" uid="uid://ce6xpdflusxlf" path="res://sprites/Bonnie.png" id="5_eb6dy"]
[ext_resource type="AudioStream" uid="uid://b4u1gt5p3nkyy" path="res://other_assets/nose.mp3" id="5_tbgi4"]
[ext_resource type="Script" uid="uid://55rxymrfrres" path="res://scripts/FlashLightMechanics.cs" id="5_tefeu"]
[ext_resource type="Texture2D" uid="uid://v5yn4nq31gw5" path="res://sprites/freddy.png" id="6_trceg"]
[ext_resource type="AudioStream" uid="uid://bh3uieoyavq7k" path="res://other_assets/bells.mp3" id="7_o6xl0"]
[ext_resource type="Texture2D" uid="uid://u3aorun6qabm" path="res://sprites/battery.png" id="7_tipki"]
[ext_resource type="Texture2D" uid="uid://d2wq1wkwampm8" path="res://sprites/Confetti.png" id="9_85g3d"]
[ext_resource type="Texture2D" uid="uid://blkdse2eiaasu" path="res://sprites/Chica.png" id="12_a8y0u"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_jyhfs"]
resource_name = "floor"
texture = ExtResource("2_sugp2")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0
0:1/0 = 0
0:1/0/probability = 5.0

[sub_resource type="TileSet" id="TileSet_tbgi4"]
tile_size = Vector2i(64, 64)
sources/0 = SubResource("TileSetAtlasSource_jyhfs")

[sub_resource type="LabelSettings" id="LabelSettings_tbgi4"]
font = ExtResource("3_choun")
font_color = Color(0, 0, 0, 1)
outline_size = 4

[sub_resource type="Gradient" id="Gradient_tbgi4"]
offsets = PackedFloat32Array(0.37589929, 0.75179857)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_tefeu"]
gradient = SubResource("Gradient_tbgi4")
width = 128
height = 128
fill = 1
fill_from = Vector2(0.50427353, 0.491453)

[sub_resource type="CircleShape2D" id="CircleShape2D_o6xl0"]

[sub_resource type="Gradient" id="Gradient_tefeu"]
offsets = PackedFloat32Array(0.3111511, 0.9406475)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_o6xl0"]
gradient = SubResource("Gradient_tefeu")
fill = 1
fill_from = Vector2(0.52136755, 0.4871795)

[sub_resource type="Gradient" id="Gradient_tipki"]
offsets = PackedFloat32Array(0.32194245, 0.79316545)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_85g3d"]
gradient = SubResource("Gradient_tipki")
fill = 2
fill_from = Vector2(0.517094, 0.47008547)

[sub_resource type="Gradient" id="Gradient_choun"]
offsets = PackedFloat32Array(0.2589928, 0.75)
colors = PackedColorArray(0.97482014, 0.97482014, 0.97482014, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ya4ey"]
gradient = SubResource("Gradient_choun")
fill = 2
fill_from = Vector2(0.46153846, 0.47863248)
fill_to = Vector2(0, 0)

[sub_resource type="AtlasTexture" id="AtlasTexture_85g3d"]
atlas = ExtResource("7_tipki")
region = Rect2(0, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_choun"]
atlas = ExtResource("7_tipki")
region = Rect2(0, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ya4ey"]
atlas = ExtResource("7_tipki")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_eb6dy"]
atlas = ExtResource("7_tipki")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_trceg"]
atlas = ExtResource("7_tipki")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_a8y0u"]
atlas = ExtResource("7_tipki")
region = Rect2(0, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_jkv2x"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_85g3d")
}],
"loop": true,
"name": &"20%",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_choun")
}],
"loop": true,
"name": &"40%",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ya4ey")
}],
"loop": true,
"name": &"60%",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_eb6dy")
}],
"loop": true,
"name": &"80%",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_trceg")
}],
"loop": true,
"name": &"empty",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_a8y0u")
}],
"loop": true,
"name": &"full",
"speed": 5.0
}]

[node name="Node2D" type="Node2D"]
script = ExtResource("1_sugp2")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD2//r/AAAAAAEAAAD2//v/AAAAAAEAAAD2//z/AAAAAAEAAAD2//3/AAAAAAEAAAD2//7/AAAAAAEAAAD2////AAAAAAEAAAD2/wAAAAAAAAEAAAD2/wEAAAAAAAEAAAD2/wIAAAAAAAAAAAD2/wMAAAAAAAEAAAD2/wQAAAAAAAEAAAD2/wUAAAABAAAAAAD3//r/AAAAAAAAAAD3//v/AAAAAAEAAAD3//z/AAAAAAEAAAD3//3/AAAAAAEAAAD3//7/AAAAAAEAAAD3////AAABAAAAAAD3/wAAAAAAAAEAAAD3/wEAAAAAAAEAAAD3/wIAAAAAAAAAAAD3/wMAAAAAAAEAAAD3/wQAAAAAAAEAAAD3/wUAAAAAAAEAAAD4//r/AAAAAAEAAAD4//v/AAABAAAAAAD4//z/AAAAAAEAAAD4//3/AAAAAAAAAAD4//7/AAAAAAEAAAD4////AAAAAAEAAAD4/wAAAAAAAAEAAAD4/wEAAAABAAAAAAD4/wIAAAAAAAEAAAD4/wMAAAAAAAEAAAD4/wQAAAAAAAEAAAD4/wUAAAAAAAAAAAD5//r/AAAAAAEAAAD5//v/AAABAAAAAAD5//z/AAABAAAAAAD5//3/AAABAAAAAAD5//7/AAAAAAEAAAD5////AAAAAAEAAAD5/wAAAAAAAAEAAAD5/wEAAAAAAAEAAAD5/wIAAAAAAAEAAAD5/wMAAAABAAAAAAD5/wQAAAABAAAAAAD5/wUAAAAAAAEAAAD6//r/AAAAAAAAAAD6//v/AAAAAAEAAAD6//z/AAABAAAAAAD6//3/AAAAAAEAAAD6//7/AAABAAAAAAD6////AAAAAAAAAAD6/wAAAAAAAAEAAAD6/wEAAAABAAAAAAD6/wIAAAABAAAAAAD6/wMAAAAAAAEAAAD6/wQAAAAAAAEAAAD6/wUAAAAAAAAAAAD7//r/AAAAAAEAAAD7//v/AAAAAAEAAAD7//z/AAAAAAEAAAD7//3/AAAAAAEAAAD7//7/AAAAAAAAAAD7////AAAAAAEAAAD7/wAAAAAAAAAAAAD7/wEAAAABAAAAAAD7/wIAAAAAAAEAAAD7/wMAAAAAAAEAAAD7/wQAAAAAAAEAAAD7/wUAAAAAAAEAAAD8//r/AAAAAAEAAAD8//v/AAAAAAEAAAD8//z/AAAAAAAAAAD8//3/AAAAAAAAAAD8//7/AAABAAAAAAD8////AAAAAAEAAAD8/wAAAAAAAAEAAAD8/wEAAAAAAAEAAAD8/wIAAAAAAAEAAAD8/wMAAAAAAAEAAAD8/wQAAAAAAAAAAAD8/wUAAAABAAAAAAD9//r/AAAAAAEAAAD9//v/AAAAAAEAAAD9//z/AAABAAAAAAD9//3/AAAAAAEAAAD9//7/AAABAAAAAAD9////AAAAAAEAAAD9/wAAAAAAAAEAAAD9/wEAAAABAAAAAAD9/wIAAAAAAAEAAAD9/wMAAAAAAAEAAAD9/wQAAAAAAAEAAAD9/wUAAAAAAAAAAAD+//r/AAAAAAEAAAD+//v/AAAAAAEAAAD+//z/AAAAAAEAAAD+//3/AAABAAAAAAD+//7/AAAAAAEAAAD+////AAAAAAEAAAD+/wAAAAAAAAEAAAD+/wEAAAAAAAEAAAD+/wIAAAAAAAEAAAD+/wMAAAAAAAEAAAD+/wQAAAAAAAEAAAD+/wUAAAAAAAEAAAD///r/AAAAAAEAAAD///v/AAAAAAEAAAD///z/AAAAAAEAAAD///3/AAAAAAEAAAD///7/AAAAAAEAAAD/////AAAAAAAAAAD//wAAAAAAAAEAAAD//wEAAAABAAAAAAD//wIAAAAAAAEAAAD//wMAAAABAAAAAAD//wQAAAAAAAEAAAD//wUAAAAAAAEAAAAAAPr/AAAAAAEAAAAAAPv/AAABAAAAAAAAAPz/AAAAAAEAAAAAAP3/AAABAAAAAAAAAP7/AAAAAAEAAAAAAP//AAAAAAEAAAAAAAAAAAAAAAEAAAAAAAEAAAABAAAAAAAAAAIAAAAAAAEAAAAAAAMAAAABAAAAAAAAAAQAAAAAAAEAAAAAAAUAAAAAAAEAAAABAPr/AAAAAAAAAAABAPv/AAABAAAAAAABAPz/AAAAAAAAAAABAP3/AAAAAAEAAAABAP7/AAABAAAAAAABAP//AAABAAAAAAABAAAAAAAAAAEAAAABAAEAAAAAAAEAAAABAAIAAAAAAAEAAAABAAMAAAAAAAEAAAABAAQAAAAAAAEAAAABAAUAAAAAAAAAAAACAPr/AAAAAAAAAAACAPv/AAAAAAEAAAACAPz/AAAAAAEAAAACAP3/AAAAAAAAAAACAP7/AAAAAAEAAAACAP//AAAAAAEAAAACAAAAAAAAAAEAAAACAAEAAAAAAAEAAAACAAIAAAAAAAAAAAACAAMAAAAAAAEAAAACAAQAAAAAAAEAAAACAAUAAAAAAAEAAAADAPr/AAAAAAEAAAADAPv/AAAAAAEAAAADAPz/AAABAAAAAAADAP3/AAAAAAEAAAADAP7/AAAAAAEAAAADAP//AAAAAAEAAAADAAAAAAAAAAEAAAADAAEAAAAAAAEAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAEAAAADAAUAAAAAAAEAAAAEAPr/AAABAAAAAAAEAPv/AAABAAAAAAAEAPz/AAAAAAEAAAAEAP3/AAAAAAEAAAAEAP7/AAAAAAEAAAAEAP//AAAAAAEAAAAEAAAAAAAAAAEAAAAEAAEAAAAAAAEAAAAEAAIAAAAAAAEAAAAEAAMAAAAAAAEAAAAEAAQAAAABAAAAAAAEAAUAAAAAAAAAAAAFAPr/AAAAAAEAAAAFAPv/AAAAAAEAAAAFAPz/AAAAAAEAAAAFAP3/AAAAAAEAAAAFAP7/AAAAAAEAAAAFAP//AAAAAAEAAAAFAAAAAAAAAAEAAAAFAAEAAAAAAAEAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAEAAAAFAAQAAAAAAAEAAAAFAAUAAAAAAAEAAAAGAPr/AAAAAAEAAAAGAPv/AAAAAAEAAAAGAPz/AAAAAAEAAAAGAP3/AAABAAAAAAAGAP7/AAAAAAEAAAAGAP//AAAAAAEAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAEAAAAGAAIAAAAAAAEAAAAGAAMAAAABAAAAAAAGAAQAAAAAAAEAAAAGAAUAAAAAAAAAAAAHAPr/AAAAAAEAAAAHAPv/AAAAAAEAAAAHAPz/AAAAAAEAAAAHAP3/AAAAAAEAAAAHAP7/AAAAAAEAAAAHAP//AAAAAAEAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAEAAAAHAAIAAAAAAAEAAAAHAAMAAAAAAAEAAAAHAAQAAAAAAAEAAAAHAAUAAAAAAAEAAAAIAPr/AAAAAAEAAAAIAPv/AAAAAAEAAAAIAPz/AAABAAAAAAAIAP3/AAAAAAEAAAAIAP7/AAAAAAEAAAAIAP//AAAAAAEAAAAIAAAAAAAAAAEAAAAIAAEAAAAAAAAAAAAIAAIAAAAAAAEAAAAIAAMAAAAAAAEAAAAIAAQAAAAAAAEAAAAIAAUAAAAAAAEAAAAJAPr/AAAAAAEAAAAJAPv/AAAAAAEAAAAJAPz/AAAAAAEAAAAJAP3/AAAAAAEAAAAJAP7/AAAAAAEAAAAJAP//AAABAAAAAAAJAAAAAAAAAAEAAAAJAAEAAAAAAAEAAAAJAAIAAAAAAAEAAAAJAAMAAAAAAAEAAAAJAAQAAAAAAAAAAAAJAAUAAAAAAAEAAAA=")
tile_set = SubResource("TileSet_tbgi4")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Label" type="Label" parent="."]
offset_left = 483.0
offset_top = -91.0
offset_right = 523.0
offset_bottom = -68.0
text = "125"
label_settings = SubResource("LabelSettings_tbgi4")
metadata/_edit_use_anchors_ = true

[node name="CanvasModulate" type="CanvasModulate" parent="."]

[node name="Node2D" type="Node2D" parent="CanvasModulate"]
visible = false
script = ExtResource("5_tefeu")

[node name="LumiereSouris" type="PointLight2D" parent="CanvasModulate/Node2D"]
visible = false
position = Vector2(-34.499985, 7.9999695)
scale = Vector2(15.1953125, 10.375)
texture = SubResource("GradientTexture2D_tefeu")

[node name="Area2D" type="Area2D" parent="CanvasModulate/Node2D"]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="CanvasModulate/Node2D/Area2D"]
visible = false
shape = SubResource("CircleShape2D_o6xl0")

[node name="Stage" type="Sprite2D" parent="CanvasModulate"]
position = Vector2(-106.5, -218)
scale = Vector2(3.328125, 3.328125)
texture = ExtResource("4_jyhfs")

[node name="Stage2" type="Sprite2D" parent="CanvasModulate"]
position = Vector2(106.63867, -217.86133)
scale = Vector2(3.3394167, 3.3394167)
texture = ExtResource("4_jyhfs")

[node name="Bonnie" type="Sprite2D" parent="CanvasModulate"]
position = Vector2(119, -215)
scale = Vector2(0.47, 0.47)
texture = ExtResource("5_eb6dy")

[node name="Freddy" type="Sprite2D" parent="CanvasModulate"]
position = Vector2(-5, -210)
scale = Vector2(0.5, 0.5)
texture = ExtResource("6_trceg")

[node name="Node2D" type="Node2D" parent="."]

[node name="Button" type="Button" parent="Node2D"]
offset_left = -60.0
offset_top = -60.0
offset_right = 60.0
offset_bottom = 60.0
action_mode = 0
icon = ExtResource("3_jyhfs")
metadata/_edit_use_anchors_ = true

[node name="PointLight2D" type="PointLight2D" parent="Node2D/Button"]
visible = false
position = Vector2(61, 61.000015)
scale = Vector2(2.328125, 2.3125)
texture = SubResource("GradientTexture2D_o6xl0")

[node name="nosePlayer" type="AudioStreamPlayer2D" parent="Node2D/Button"]
position = Vector2(60, 60)
stream = ExtResource("5_tbgi4")

[node name="ButtonBuyBattery" type="Button" parent="Node2D"]
offset_left = 438.0
offset_top = -63.0
offset_right = 536.0
offset_bottom = 17.0
text = "Battery (25)"
metadata/_edit_use_anchors_ = true

[node name="PointLight2D" type="PointLight2D" parent="Node2D/ButtonBuyBattery"]
visible = false
position = Vector2(51.000008, 43)
scale = Vector2(2.2499998, 1)
texture = SubResource("GradientTexture2D_85g3d")

[node name="ButtonUpgrade" type="Button" parent="Node2D"]
offset_left = 439.0
offset_top = 25.0
offset_right = 546.0
offset_bottom = 66.0
text = "Upgrade (75)"
metadata/_edit_use_anchors_ = true

[node name="PointLight2D" type="PointLight2D" parent="Node2D/ButtonUpgrade"]
visible = false
position = Vector2(52, 22.5)
scale = Vector2(2.5937495, 1.1406251)
texture = SubResource("GradientTexture2D_ya4ey")

[node name="Label" type="Label" parent="Node2D"]
offset_left = -30.0
offset_top = -379.0
offset_right = 8.0
offset_bottom = -356.0
text = "270"
metadata/_edit_use_anchors_ = true

[node name="PointLight2D" type="PointLight2D" parent="Node2D/Label"]
visible = false
position = Vector2(14, 21)
scale = Vector2(2.5937495, 1.1406251)
texture = SubResource("GradientTexture2D_ya4ey")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Node2D"]
position = Vector2(496, -144)
sprite_frames = SubResource("SpriteFrames_jkv2x")
animation = &"full"
autoplay = "full"

[node name="PointLight2D" type="PointLight2D" parent="Node2D/AnimatedSprite2D"]
visible = false
position = Vector2(1.9999847, 2.026558e-06)
scale = Vector2(1.3750001, 1.1406251)
energy = 1.37
texture = SubResource("GradientTexture2D_ya4ey")

[node name="PointLight2D" type="PointLight2D" parent="Node2D/AnimatedSprite2D/PointLight2D"]
visible = false
position = Vector2(5.1818323, 56.986294)
scale = Vector2(1.019886, 0.85798365)
energy = 1.37
texture = SubResource("GradientTexture2D_ya4ey")

[node name="WinSound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("7_o6xl0")

[node name="Confetti" type="Sprite2D" parent="."]
position = Vector2(-563, 312.00003)
scale = Vector2(0.1, 0.095)
texture = ExtResource("9_85g3d")

[node name="Confetti2" type="Sprite2D" parent="."]
position = Vector2(-133, 79)
scale = Vector2(0.1, 0.1)
texture = ExtResource("9_85g3d")

[node name="Confetti3" type="Sprite2D" parent="."]
position = Vector2(-319, -71)
scale = Vector2(0.12, 0.12)
texture = ExtResource("9_85g3d")

[node name="Confetti4" type="Sprite2D" parent="."]
position = Vector2(414, -233)
scale = Vector2(0.11, 0.11)
texture = ExtResource("9_85g3d")

[node name="Confetti5" type="Sprite2D" parent="."]
position = Vector2(364, 182)
scale = Vector2(0.09, 0.09)
texture = ExtResource("9_85g3d")

[node name="Confetti6" type="Sprite2D" parent="."]
position = Vector2(82, 234)
scale = Vector2(0.07, 0.07)
texture = ExtResource("9_85g3d")

[node name="Confetti7" type="Sprite2D" parent="."]
position = Vector2(-559, -325)
scale = Vector2(0.13, 0.13)
texture = ExtResource("9_85g3d")

[node name="Confetti8" type="Sprite2D" parent="."]
position = Vector2(582, 119)
scale = Vector2(0.08, 0.08)
texture = ExtResource("9_85g3d")

[node name="Confetti9" type="Sprite2D" parent="."]
position = Vector2(234, -43)
scale = Vector2(0.11, 0.11)
texture = ExtResource("9_85g3d")

[node name="Confetti10" type="Sprite2D" parent="."]
position = Vector2(-349, 134)
scale = Vector2(0.06, 0.06)
texture = ExtResource("9_85g3d")

[node name="Confetti11" type="Sprite2D" parent="."]
position = Vector2(-534, 2)
scale = Vector2(0.1, 0.1)
texture = ExtResource("9_85g3d")

[node name="Confetti12" type="Sprite2D" parent="."]
position = Vector2(297, 330)
scale = Vector2(0.07, 0.07)
texture = ExtResource("9_85g3d")

[node name="Confetti13" type="Sprite2D" parent="."]
position = Vector2(-159, -179)
scale = Vector2(0.08, 0.08)
texture = ExtResource("9_85g3d")

[node name="Confetti14" type="Sprite2D" parent="."]
position = Vector2(160, -177)
scale = Vector2(0.06, 0.06)
texture = ExtResource("9_85g3d")

[node name="Chica" type="Sprite2D" parent="."]
position = Vector2(-130, -210)
scale = Vector2(0.5, 0.5)
texture = ExtResource("12_a8y0u")
